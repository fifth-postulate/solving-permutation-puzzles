# Schreier-Sims
> Q. How did the programmer go through a bottle of shampoo each day?
> A. They read the shampoo bottle instructions: Lather, Rinse, Repeat.

We are in the following situation. We started with a sequence of generators. We
choose a base. We used this base and determined its orbit, together with
transversals and generators for the stabilizer. In a TL;DR fashion: start with
generators for a group, end with generators for a smaller group.

This is amendable to repetition. We used have to make sure that we stop. Luckily
because the groups are getting smaller, we are bound to stop sometimes. This is
exactly the [Schreier-Sims algorithm][schreier-sims].

The Schreier-Sims algorithm will create a chain of stabilizers and is the stable
of computer algebra systems. We have everything in place to implemented. Below
you find a description of the steps. We start with some generators for a group
we are interested in.

1. Choose a base, i.e. an element that is moved by (some of) the generators.
2. Determine the orbit of the base.
3. While determining the orbit keep track of transversals and generators for the
   stabilizer.
4. Repeat as long as there are generators.

Note that during step three, when you find a generator that is the identity
permutation it is not necessary to list it. This way the algorithm stops when the
sequence of new generators is empty.

## Membership
Once we have a chain of stabilizers we can use it to determine if a permutation
is contained in the group. You can do this with the following algorithm. We
start with a stabilizer chain and a permutation.

Check where the permutation moves the base. There are two options.
1. The base is moved inside the orbit. Then lookup the corresponding transversal
   and multiply the permutation with the inverse of the transversal. Go to the
   next stabilizer.
2. The base is moved outside the orbit. The permutation is not contained in the
   group.

Once you reached the final step, there again are two situations.
1. The element you are left with is the identity element. The original
   permutation is in the group.
2. The element you are left with is not the identity element. The original
   permutation is **not** in the group.

This concludes the Schreier-Sims Algorithm.

## Exercises 
1. Perform the Schreier-Sims Algorithm by hand on the group generated by the
   permutations

```
[
  0, 1, 2
  1, 0, 2
]
```

and

```
[
  0, 1, 2
  0, 2, 1
]
```

2. Determine if the following permutation is in the group described in the
   preceding exercise.

```
[
  0, 1, 2
  1, 2, 0
]
```

## Implementations
1. Implement the Schreier-Sims algorithm.
2. Implement the membership test.

[schreier-sims]: https://en.wikipedia.org/wiki/Schreier%E2%80%93Sims_algorithm
